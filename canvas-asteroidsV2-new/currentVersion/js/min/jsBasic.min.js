function draw(){frameRate=60,c.globalCompositeOperation="source-over",c.fillStyle=rgb(0,0,0),c.fillRect(0,0,canvas.width,canvas.height),200>=bgStars?makeStars(200):makeStars(0),starsRenderer(),startGame&&(bulletDeltaX=mouseX-p.x,bulletDeltaY=mouseY-p.y,bulletAngle=Math.atan2(bulletDeltaY,bulletDeltaX),bulletXVel=Math.cos(bulletAngle)*bulletSpeed,bulletYVel=Math.sin(bulletAngle)*bulletSpeed,populateAsteroids&&(10>asteroidsL?(makeAsteroidL(10),populateAsteroids=!1):makeAsteroidL(0)),asteroidLargeUpdater(),asteroidSmallUpdater(),explosionsUpdater(),bulletUpdater(),bulletEmmisionFunct(),playerRender(),playerUpdate(),playerControls()),gameOverAnim(),counter++,debugOutput()}var boundaryWrap=function(){p.x>canvas.width+p.r&&(p.x=0-p.r),p.x<0-p.r&&p.xVel<0&&(p.x=canvas.width),p.y>canvas.height&&(p.y=0-p.r),p.y<0-p.r&&p.yVel<0&&(p.y=canvas.height)},playerUpdate=function(){if(playerAlive&&playerLives>0){boundaryWrap(),p.x+=p.xVel,p.y+=p.yVel;for(var e=asteroidsL.length-1;e>=0;e--){aL=asteroidsL[e];var a=dist(p.x,p.y,aL.x,aL.y),l=p.r+aL.r;l>=a&&(colPointX=aL.x,colPointY=aL.y,p.x=null,p.y=null,thisTime=counter,playerCollision=!0,playerLives-=1,playerAlive=!1,asteroidsL.splice(e,1),makeAsteroidS(10),makeExplosions(1))}for(var e=asteroidsS.length-1;e>=0;e--){aS=asteroidsS[e];var a=dist(p.x,p.y,aS.x,aS.y),l=p.r+aS.r;l>=a&&(colPointX=aS.x,colPointY=aS.y,p.x=null,p.y=null,thisTime=counter,playerCollision=!0,playerLives-=1,playerAlive=!1,asteroidsS.splice(e,1),makeExplosions(1))}}playerCollision&&playerLives>0&&counter-thisTime>=120&&(playerAlive=!0,playerCollision=!1,p.x=canvas.width/2,p.y=canvas.height/2,p.xVel=0,p.yVel=0),0>=playerLives&&(gameOver=!0,startGame=!1)};