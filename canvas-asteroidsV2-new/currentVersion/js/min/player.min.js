function bulletEmmisionFunct(){playerAlive&&(firing&&(currBullets>0&&(particles.add({type:"bullet",size:3,x:p.x,y:p.y,xVel:aimXVel,yVel:aimYVel},1),currBullets=0),0==currBullets&&counter-firingTime>=firingCooldown&&(currBullets++,firingTime=counter)),0==firing&&(firingTime=0,currBullets=1))}var player={x:canvas.width/2,y:canvas.height/2,r:20,colR:150,colG:150,colB:150,xVel:0,yVel:0},p=player,firing=!1,firingTime=0,firingCooldown=10,currBullets=1,bulletSpeed=20,colPointX=0,colPointY=0,asteroidsL=0,currAsteroidLlimit=10,asteroidSlimit=10,playerGraphic=function(){c.fillStyle=rgb(p.colR,p.colG,p.colB),c.fillCircle(p.x,p.y,p.r)},aimDeltaX,aimDeltaY,aimAngle,aimXVel,aimYVel,aimCalculation=function(){aimDeltaX=mouseX-p.x,aimDeltaY=mouseY-p.y,aimAngle=Math.atan2(aimDeltaY,aimDeltaX),aimXVel=Math.cos(aimAngle)*bulletSpeed,aimYVel=Math.sin(aimAngle)*bulletSpeed},playerRender=function(){playerAlive&&((playerLeftKey||playerRightKey)&&boosterXRender(),(playerUpKey||playerDownKey)&&boosterYRender(),playerGraphic(),aimCalculation(),c.lineWidth=4,c.strokeStyle=rgb(200,0,0),c.save(),c.translate(p.x,p.y),c.rotate(aimAngle),c.beginPath(),c.moveTo(0,0),c.lineTo(20,0),c.stroke(),c.restore())},boosterXRender=function(){var e=random(50,150);if(c.globalCompositeOperation="lighter",playerLeftKey){var l=c.createLinearGradient(p.x,p.y-10,p.x+e,p.y+10);l.addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(1,"rgba(0,0,255,0)"),c.fillStyle=l,c.fillRect(p.x,p.y-10,e,20)}if(playerRightKey){var l=c.createLinearGradient(p.x,p.y-10,p.x-e,p.y+10);l.addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(1,"rgba(0,0,255,0)"),c.fillStyle=l,c.fillRect(p.x,p.y-10,-e,20)}c.globalCompositeOperation="source-over"},boosterYRender=function(){var e=random(50,150);if(c.globalCompositeOperation="lighter",playerUpKey){var l=c.createLinearGradient(p.x-10,p.y,p.x+10,p.y+e);l.addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(1,"rgba(0,0,255,0)"),c.fillStyle=l,c.fillRect(p.x-10,p.y,20,e)}if(playerDownKey){var l=c.createLinearGradient(p.x-10,p.y,p.x+10,p.y-e);l.addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(1,"rgba(0,0,255,0)"),c.fillStyle=l,c.fillRect(p.x-10,p.y,20,-e)}c.globalCompositeOperation="source-over"},playerAim=function(){c.strokeStyle=rgb(100,100,255),c.lineWidth=2,c.strokeCircle(mouseX,mouseY,20)};