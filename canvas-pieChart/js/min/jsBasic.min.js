function draw(){frameRate=60,c.globalCompositeOperation="source-over",c.fillStyle=rgb(255,255,255),c.fillRect(0,0,canvas.width,canvas.height),1==timerSet||timerSet||90!=counter||(timerSet=!0);for(var e=0;e<dataSet.people.length;e++){var t=dataSet.people[e];dataSet.people[e].colG=50*e,dataSet.people[e].colB=50*e,c.fillStyle=rgb(colR,dataSet.people[e].colG,dataSet.people[e].colB);var a=t.amount/totalAmount,o=2*Math.PI*a,i=oldAngle+o;console.log(angle2),c.beginPath(),timerSet&&(20>offsetX&&(offsetX+=.5),35>offsetY&&(offsetY+=.5)),e==largestPos?(midXL=midX+offsetX,midYL=midY+offsetY,c.arc(midXL,midYL,radius,oldAngle,i),c.lineTo(midXL,midYL)):(c.arc(midX,midY,radius,oldAngle,i),c.lineTo(midX,midY)),c.closePath(),c.fill(),c.lineWidth=2,c.stroke(),oldAngle+=o}c.globalCompositeOperation="destination-in",c.fillStyle=rgb(0,255,0),c.beginPath(),c.arc(midX,midY,radius+100,0,clipRegion*Math.PI),c.lineTo(midX,midY),c.closePath(),c.fill(),2>clipRegion?clipRegion+=.05:clipRegion=2,counter++}var canvas=document.getElementById("myCanvas"),c=canvas.getContext("2d");canvas.width=window.innerWidth,canvas.height=window.innerHeight;for(var counter=0,colR=255,colG=0,colB=0,oldAngle=0,midX=canvas.width/2,midXL=midX,midY=canvas.height/2,midYL=midY,offsetX=0,offsetY=0,radius=canvas.height/4,radAdd=0,timerSet=!1,clipRegion=0,dataSet={people:[{name:"Andy",amount:100},{name:"Ben",amount:500},{name:"Candice",amount:200},{name:"Denise",amount:400},{name:"Ewan",amount:300},{name:"Frank",amount:250},{name:"Georgina",amount:320}]},dataReturned=eval(dataSet),totalAmount=0,largestAmount=0,largestName=0,largestPos=0,i=0;i<dataSet.people.length;i++)dataSet.people[i].colR=255,dataSet.people[i].colG=0,dataSet.people[i].colB=0,dataSet.people[i].topAmount=!1,totalAmount+=dataSet.people[i].amount,dataSet.people[i].amount>largestAmount&&(largestAmount=dataSet.people[i].amount,largestName=dataSet.people[i].name,largestPos=i);var angle2;